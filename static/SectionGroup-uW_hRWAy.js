import{u as i,a as c,j as t}from"./client-D8A9XoET.js";import"./honox-island-0Lm4JOhJ.js";import{r as m}from"./index-BJLlL6Rz.js";const u=e=>{const[n,a]=i({}),[o,g]=i(!1);return c(()=>{const l={};e.forEach(r=>{l[r.id]=!1}),a(l)},[e]),c(()=>{const l=Object.values(n).filter(Boolean).length;g(l===e.length&&e.length>0)},[n,e.length]),{toggleStates:n,allOpen:o,handleToggle:l=>{a(r=>({...r,[l]:!r[l]}))},handleBulkToggle:()=>{const l=!o,r={};e.forEach(h=>{r[h.id]=l}),a(r),g(l)}}},f=({allOpen:e,onClick:n})=>t("button",{onClick:n,className:`px-3 py-1 text-sm rounded-md transition-colors flex items-center gap-2 ${e?"bg-red-100 hover:bg-red-200 text-red-700":"bg-blue-100 hover:bg-blue-200 text-blue-700"}`,children:[t("span",{className:"text-xs",children:e?"全て閉じる":"全て開く"}),t("span",{className:`transform transition-transform ${e?"rotate-180":""}`,children:"▼"})]}),p=({title:e,hasSubsections:n,allOpen:a,onBulkToggle:o})=>t("div",{className:"flex items-center justify-between mb-4",children:[t("h3",{className:"text-xl font-semibold text-blue-900",dangerouslySetInnerHTML:{__html:e}}),n&&t(f,{allOpen:a,onClick:o})]}),x=({subsection:e,isOpen:n,onToggle:a})=>t("div",{className:"mb-4 border border-gray-200 rounded-lg",children:[t("button",{onClick:a,className:"flex items-center gap-3 w-full text-left p-4 hover:bg-gray-50 transition-colors rounded-lg",children:[t("span",{className:`transform transition-transform text-gray-500 ${n?"rotate-90":""}`,children:"▶"}),t("span",{className:"text-lg font-semibold text-gray-800",dangerouslySetInnerHTML:{__html:e.title}})]}),n&&t("div",{className:"px-4 pb-4 border-t border-gray-100",children:t("div",{className:"prose max-w-none pt-3",dangerouslySetInnerHTML:{__html:m(e.content,e.title)}})})]}),S=function({section:e,subsections:n}){const{toggleStates:a,allOpen:o,handleToggle:g,handleBulkToggle:d}=u(n);return t("div",{className:"mb-8",children:[t(p,{title:e.title,hasSubsections:n.length>0,allOpen:o,onBulkToggle:d}),e.content.trim()&&t("div",{className:"prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:m(e.content,e.title)}}),n.map(s=>t(x,{subsection:s,isOpen:a[s.id]||!1,onToggle:()=>g(s.id)},s.id))]})},y=function(e){return t(S,{...e})},_=!0;export{_ as __importing_islands,y as default};
